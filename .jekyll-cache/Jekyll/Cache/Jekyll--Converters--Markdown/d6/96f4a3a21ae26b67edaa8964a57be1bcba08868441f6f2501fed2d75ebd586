I"–<p>If you didnâ€™t see, version 1.1.1 of Liquibase was released the day after 1.1 because of problems reported by users with the new diff tool.</p>

<p>Now, we could simply say â€œitâ€™s a new feature, you should expect bugsâ€, but they were pretty obvious ones that should have been caught by simply executing the diff tool against all our supported databases. A simple unit test or two that actually ran the diff tool exposed the bugs and they were easy to catch.</p>

<p>Why werenâ€™t those tests wrote before the 1.1 release? It was because I was testing with a mock database connection which didnâ€™t capture all the idiosyncrasies of different databases. The tests were there, and the coverage was there, but there were still bugs because of limitations in the (mock) abstraction layer.</p>

<p>The lesson to be learned is that when writing database access level code, never use a mock database connection.</p>
:ET